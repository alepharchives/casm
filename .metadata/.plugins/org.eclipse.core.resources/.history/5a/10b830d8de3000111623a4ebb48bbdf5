/*
 * main.c
 *
 *  Created on: Dec 26, 2011
 *      Author: shlomi 039014220
 *
 *  maman 22
 *
 * In this solution i have essentially created a small scale DSL that lets us easily describe
 * interactive operations within our domain, namely matrix manipulation.
 *
 * parser.c and parser.h contains the code that parses a given line of string.
 * it is heavily influenced by parser combinators, but since this C cannot use lambda
 * expressions, the implementation is not really functional in style. more details on
 * the technique i used there can be read in these files
 *
 * matdsl.c and matdsl.h contains the definitions of this dsl's directive. these were
 * designed to be as composable as possible under the restriction of the C language,
 * and to achieve that i had to slightly abuse the #define keyword. again, further details
 * are given in these files.
 *
 */

#include <stdio.h>
#include <stdlib.h>
#include <string.h>

#include "mat.h"
#include "parser.h"
#include "matdsl.h"

Mat Mats[MAX_MATS];

int main(void) {

	char line[1000];
	char *l;
	int err = 0;

	while (1) {
		getline(line, sizeof(line));
		l = strip(line, " ");

		DO(read_mat) OR(add_mat) OR(print_mat) OR(sub_mat) OR(mul_mat) OR(trans_mat) OR(mul_scalar)
		QUIT(stop) ELSE("no such command")
	}

	return 0;
}
